<div class="outer" *ngIf="this.isLoad">
  <div class="main">
    <form
      style="display: grid"
      [formGroup]="this.form"
      (ngSubmit)="submit()"
      autocomplete="off"
    >
      <h1>
        {{ this.fullName }}<br />
        ({{ this.login }})
      </h1>
      <mat-form-field>
        <input
          matInput
          [type]="hidePassword ? 'password' : 'text'"
          [(ngModel)]="this.password"
          placeholder="{{
            'text.adminPanel.resetPassword.password' | translate
          }}"
          formControlName="password"
          maxlength="30"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hidePassword = !hidePassword"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hidePassword"
        >
          <mat-icon>{{
            hidePassword ? 'visibility_off' : 'visibility'
          }}</mat-icon>
        </button>
        <mat-hint *ngIf="this.isControlInvalid('password')">{{
          'text.adminPanel.resetPassword.invalid' | translate
        }}</mat-hint>
        <mat-error *ngIf="hasError('password', 'minlength')">{{
          'text.adminPanel.resetPassword.minLength' | translate
        }}</mat-error>
        <mat-error *ngIf="hasError('password', 'pattern')"
          >{{ 'text.adminPanel.resetPassword.allowedCharacters' | translate }}:
          "A(a)-Z(z)", "0-9", "_"</mat-error
        >
      </mat-form-field>
      <mat-form-field>
        <input
          matInput
          [type]="hideConfirm ? 'password' : 'text'"
          [(ngModel)]="this.confirmPassword"
          placeholder="{{
            'text.adminPanel.resetPassword.repeatPassword' | translate
          }}"
          formControlName="confirmPassword"
          maxlength="30"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hideConfirm = !hideConfirm"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hideConfirm"
        >
          <mat-icon>{{
            hideConfirm ? 'visibility_off' : 'visibility'
          }}</mat-icon>
        </button>
        <mat-error *ngIf="this.isControlInvalid('confirmPassword')">{{
          'text.adminPanel.resetPassword.repeatPasswordInvalid' | translate
        }}</mat-error>
      </mat-form-field>
      <div class="buttons-container">
        <button mat-raised-button class="cancel" (click)="this.back()">
          {{ 'button.cancel' | translate }}
        </button>
        <button
          class="btn"
          [disabled]="this.form.invalid"
          mat-raised-button
          (click)="this.setNewPassword()"
        >
          {{ 'button.save' | translate }}
        </button>
      </div>
    </form>
  </div>
</div>
